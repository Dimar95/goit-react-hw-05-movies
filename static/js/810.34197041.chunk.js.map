{"version":3,"file":"static/js/810.34197041.chunk.js","mappings":"oPACA,G,QAAuB,sBAAvB,EAA0D,4BAA1D,EAAqG,6BAArG,EAA4I,wBAA5I,EAAiL,2BAAjL,EAAyN,2B,SCsGzN,EA/Fe,WACb,OAAoCA,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAkDF,EAAAA,EAAAA,UAAS,IAA3D,eAAOG,EAAP,KAA0BC,EAA1B,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAYJ,EAAaK,IAAI,SACnC,GAA0BX,EAAAA,EAAAA,WAAS,kBAAMU,GAAa,EAAnB,IAAnC,eAAOE,EAAP,KAAcC,EAAd,KACA,GAA4Bb,EAAAA,EAAAA,UAAS,IAArC,eAAOc,EAAP,KAAeC,EAAf,KA6BA,OA3BAC,EAAAA,EAAAA,YAAU,WACM,KAAVJ,GAGJK,EAAAA,EAAAA,IAAA,kHAE+GL,EAF/G,gCAIGM,MAAK,SAAAC,GACJf,EAAqBe,EAAQC,KAAKD,QACnC,IACAE,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAMG,SAClBV,EAAU,SACVW,EAAAA,GAAAA,MAAA,UAAeJ,EAAMG,SAAW,CAC9BE,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVC,MAAO,SAEV,GACJ,GAAE,CAACvB,KAGF,iCACE,kBACEwB,OAAO,GACPC,UAAWC,EACXC,SAAU,SAAAC,GACRA,EAAEC,iBACFlC,EAAgB,CAAEmC,MAAOzC,IACzBY,EAASZ,EACV,EAPH,WASE,kBACEoC,UAAWC,EACXK,KAAK,OACLC,KAAK,SACLC,MAAO5C,EACP6C,SAAU,SAAAN,GACRtC,EAAcsC,EAAEO,cAAcF,MAC/B,KAEH,kBAAOG,QAAQ,YACf,mBAAQX,UAAWC,EAAkBK,KAAK,SAA1C,uBAIDxC,EAAkB8C,OAAS,GAC1B,eAAIZ,UAAWC,EAAf,SACGnC,EAAkB+C,KAAI,SAAAR,GAAK,OAC1B,eAAmBL,UAAWC,EAA9B,UACE,SAAC,KAAD,CACED,UAAWC,EACXa,GAAE,kBAAaT,EAAMU,IACrBC,MAAO,CAAEC,KAAM9C,GAHjB,SAKGkC,EAAMa,SANFb,EAAMU,GADW,OAa9B,8CAEU,UAAXtC,IACC,SAAC,KAAD,CACEa,SAAS,aACTC,UAAW,IACXC,iBAAiB,EACjB2B,aAAa,EACb1B,cAAY,EACZ2B,KAAK,EACLC,kBAAgB,EAChB1B,WAAS,EACTD,cAAY,EACZI,MAAM,YAKf,C","sources":["webpack://react-homework-template/./src/components/page/Movies/Movies.module.css?b5a8","components/page/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__6yqht\",\"inputSearch\":\"Movies_inputSearch__N2nik\",\"buttonSearch\":\"Movies_buttonSearch__ANyLv\",\"moviesS\":\"Movies_moviesS__b5wRc\",\"moviesItem\":\"Movies_moviesItem__0BQFA\",\"moviesList\":\"Movies_moviesList__ITGt1\"};","import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [inputValue, setInputValue] = useState('');\n  const [arrayMovieByQuery, setArrayMoviebyQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const movieName = searchParams.get('movie');\n  const [query, setQuery] = useState(() => movieName || '');\n  const [status, setStatus] = useState('');\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?api_key=0fe50c86842745b16f2f012241d0925e&language=en-US&query=${query}&page=1&include_adult=false`\n      )\n      .then(results => {\n        setArrayMoviebyQuery(results.data.results);\n      })\n      .catch(error => {\n        console.log(error.message);\n        setStatus('error');\n        toast.error(`${error.message}`, {\n          position: 'top-center',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: 'light',\n        });\n      });\n  }, [query]);\n\n  return (\n    <>\n      <form\n        action=\"\"\n        className={css.form}\n        onSubmit={e => {\n          e.preventDefault();\n          setSearchParams({ movie: inputValue });\n          setQuery(inputValue);\n        }}\n      >\n        <input\n          className={css.inputSearch}\n          type=\"text\"\n          name=\"search\"\n          value={inputValue}\n          onChange={e => {\n            setInputValue(e.currentTarget.value);\n          }}\n        />\n        <label htmlFor=\"search\"></label>\n        <button className={css.buttonSearch} type=\"submit\">\n          Search\n        </button>\n      </form>\n      {arrayMovieByQuery.length > 0 ? (\n        <ul className={css.moviesList}>\n          {arrayMovieByQuery.map(movie => (\n            <li key={movie.id} className={css.moviesItem}>\n              <Link\n                className={css.moviesS}\n                to={`/movies/${movie.id}`}\n                state={{ from: location }}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <div>Movies not found</div>\n      )}\n      {status === 'error' && (\n        <ToastContainer\n          position=\"top-center\"\n          autoClose={5000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n          theme=\"light\"\n        />\n      )}\n    </>\n  );\n};\nexport default Movies;\n"],"names":["useState","inputValue","setInputValue","arrayMovieByQuery","setArrayMoviebyQuery","useSearchParams","searchParams","setSearchParams","location","useLocation","movieName","get","query","setQuery","status","setStatus","useEffect","axios","then","results","data","catch","error","console","log","message","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","action","className","css","onSubmit","e","preventDefault","movie","type","name","value","onChange","currentTarget","htmlFor","length","map","to","id","state","from","title","newestOnTop","rtl","pauseOnFocusLoss"],"sourceRoot":""}